<Prefab>
  <Constants>
    <Constant Name="PresetButton.Background.Width" BrushName="Launcher.Mods.PresetButton.Background" BrushLayer="Default" BrushValueType="Width"/>
    <Constant Name="PresetButton.Background.Height" BrushName="Launcher.Mods.PresetButton.Background" BrushLayer="Default" BrushValueType="Height"/>

    <Constant Name="ModToggle.Width" BrushName="Launcher.Mods.ModToggle" BrushLayer="Default" BrushValueType="Width"/>
    <Constant Name="ModToggle.Height" BrushName="Launcher.Mods.ModToggle" BrushLayer="Default" BrushValueType="Height"/>

    <Constant Name="ModSorter.Width" BrushName="Launcher.Mods.ModSorter" BrushLayer="Default" BrushValueType="Width"/>
    <Constant Name="ModSorter.Height" BrushName="Launcher.Mods.ModSorter" BrushLayer="Default" BrushValueType="Height"/>
  </Constants>
  <Window>
    <Widget WidthSizePolicy="StretchToParent" HeightSizePolicy="StretchToParent">
      <Children>
        <ListPanel WidthSizePolicy="StretchToParent" HeightSizePolicy="Fixed" SuggestedHeight="26" MarginTop="10" MarginLeft="30">
          <Children>
            <Widget WidthSizePolicy="Fixed" HeightSizePolicy="Fixed" SuggestedWidth="!ModToggle.Width" SuggestedHeight="!ModToggle.Height" VerticalAlignment="Center">
              <Children>

              </Children>
            </Widget>
            <Widget WidthSizePolicy="Fixed" HeightSizePolicy="Fixed" SuggestedWidth="!ModSorter.Width" SuggestedHeight="!ModSorter.Height" VerticalAlignment="Center" MarginLeft="10" />
            <Widget WidthSizePolicy="Fixed" HeightSizePolicy="Fixed" SuggestedWidth="34" SuggestedHeight="25" MarginLeft="3"/>
            <!-- TODO: Mod Update -->
            <!--
            <TextWidget Text="@NameCategoryText" WidthSizePolicy="StretchToParent" HeightSizePolicy="StretchToParent" MarginLeft="55" PositionYOffset="2" Brush="Launcher.Mods.ModNameText" Brush.TextHorizontalAlignment="Left"/>
            <TextWidget Text="@VersionCategoryText" WidthSizePolicy="StretchToParent" HeightSizePolicy="StretchToParent" MarginLeft="15" PositionYOffset="2" Brush="Launcher.Mods.ModNameText" />
            -->
            <TextWidget Text="@NameCategoryText" WidthSizePolicy="StretchToParent" HeightSizePolicy="StretchToParent" MarginLeft="20" PositionYOffset="2" Brush="Launcher.Mods.ModNameText" Brush.TextHorizontalAlignment="Left"/>
            <TextWidget Text="@VersionCategoryText" WidthSizePolicy="StretchToParent" HeightSizePolicy="StretchToParent" PositionYOffset="2" Brush="Launcher.Mods.ModNameText" />
          </Children>
        </ListPanel>

        <ScrollablePanel Id="ScrollablePanel" HeightSizePolicy ="StretchToParent" WidthSizePolicy="StretchToParent" InnerPanel="MyClipRect\InnerPanel" ClipRect="MyClipRect" MarginLeft="30" MarginTop="46" MarginBottom="23" VerticalScrollbar="..\Scrollbar" AutoHideScrollBars="true" AcceptDrop="true" Command.Drop="ChangeLoadingOrderOf" CommandParameter.Drop="Mod">
          <Children>
            <Widget Id="MyClipRect" WidthSizePolicy = "StretchToParent" HeightSizePolicy = "StretchToParent" HorizontalAlignment="Center" ClipContents="true" >
              <Children>
                <ListPanel Id="InnerPanel" DataSource="{Modules}" LayoutImp.LayoutMethod="VerticalBottomToTop" WidthSizePolicy="StretchToParent" HeightSizePolicy="CoverChildren" AcceptDrop="true" Command.Drop="..\ChangeLoadingOrderOf" CommandParameter.Drop="withIndex">
                  <ItemTemplate>
                    <ListPanel WidthSizePolicy="StretchToParent" HeightSizePolicy="Fixed" SuggestedHeight="26" MarginBottom="10" AcceptDrag="true" DragWidget="DragWidget">
                      <Children>
                        <ButtonWidget IsDisabled="@IsDisabled" IsSelected="@IsSelected" DoNotPassEventsToChildren="true" WidthSizePolicy="Fixed" HeightSizePolicy="Fixed" SuggestedWidth="!ModToggle.Width" SuggestedHeight="!ModToggle.Height" VerticalAlignment="Center" Brush="Launcher.Mods.ModToggle" Command.Click="ExecuteSelect">
                          <Children>
                            <ImageWidget IsDisabled="@IsDisabled" IsVisible="@IsSelected" WidthSizePolicy="StretchToParent" HeightSizePolicy="StretchToParent" Brush="Launcher.Mods.ModToggle.Checkmark" />
                          </Children>
                        </ButtonWidget>
                        <ButtonWidget WidthSizePolicy="Fixed" HeightSizePolicy="Fixed" SuggestedWidth="!ModSorter.Width" SuggestedHeight="!ModSorter.Height" VerticalAlignment="Center" MarginLeft="10" Brush="Launcher.Mods.ModSorter" IsDisabled="true"/>
                        <Widget WidthSizePolicy="Fixed" HeightSizePolicy="Fixed" SuggestedWidth="34" SuggestedHeight="25" MarginLeft="3">
                          <Children>
                            <Widget WidthSizePolicy="StretchToParent" HeightSizePolicy="StretchToParent" MarginLeft="3" MarginRight="3" MarginTop="3" MarginBottom="3" Sprite="official_mod" IsVisible="@IsOfficial" IsDisabled="true"/>
                            <Widget WidthSizePolicy="StretchToParent" HeightSizePolicy="StretchToParent" MarginLeft="3" MarginRight="3" MarginTop="3" MarginBottom="3" Sprite="community_mod" Color="#D69846FF" IsHidden="@IsOfficial" IsDisabled="true"/>
                          </Children>
                        </Widget>
                        <!-- TODO: Mod Update -->
                        <!--
                        <Widget WidthSizePolicy="Fixed" HeightSizePolicy="Fixed" SuggestedWidth="34" SuggestedHeight="25" MarginLeft="3">
                          <Children>
                            <Widget WidthSizePolicy="StretchToParent" HeightSizePolicy="StretchToParent" MarginLeft="3" MarginRight="3" MarginTop="3" MarginBottom="3" Sprite="community_mod" Color="#D69846FF" IsHidden="@IsNoUpdateAvailable" IsDisabled="true"/>
                          </Children>
                        </Widget>
                        -->
                        <TextWidget Text="@Name" WidthSizePolicy="StretchToParent" HeightSizePolicy="StretchToParent" MarginLeft="20" PositionYOffset="2" Brush="Launcher.Mods.ModNameText" Brush.TextHorizontalAlignment="Left" IsDisabled="true"/>
                        <TextWidget Text="@VersionText" WidthSizePolicy="StretchToParent" HeightSizePolicy="StretchToParent" PositionYOffset="2" Brush="Launcher.Mods.ModNameText" IsDisabled="true"/>

                        <Widget Id="DragWidget" DoNotAcceptEvents="true" DoNotPassEventsToChildren="true" WidthSizePolicy="Fixed" HeightSizePolicy="Fixed" SuggestedWidth="200" SuggestedHeight="50" HorizontalAlignment="Center" VerticalAlignment="Center" IsDisabled="true" IsVisible="false">
                          <Children>
                            <TextWidget Text="@Name" WidthSizePolicy="StretchToParent" HeightSizePolicy="StretchToParent" Brush="Launcher.Mods.ModNameText" Brush.TextHorizontalAlignment="Left" />
                          </Children>
                        </Widget>
                      </Children>
                    </ListPanel>
                  </ItemTemplate>
                </ListPanel>
              </Children>
            </Widget>
          </Children>
        </ScrollablePanel>

        <ScrollbarWidget Id="Scrollbar" UpdateChildrenStates="true" WidthSizePolicy="Fixed" HeightSizePolicy="StretchToParent" SuggestedWidth="4" HorizontalAlignment="Right" VerticalAlignment="Bottom" MarginTop="23" MarginBottom="23" MarginRight="80" AlignmentAxis="Vertical" Handle="ScrollbarHandle" MaxValue="100" MinValue="0" Sprite="friends_list_slider_bed_9" Brush.AlphaFactor="0.2" >
          <Children>
            <ImageWidget Id="ScrollbarHandle" WidthSizePolicy="Fixed" SuggestedWidth="4" HorizontalAlignment="Center" VerticalAlignment="Top" Brush="Launcher.Mods.ScrollHandle" MinHeight="50" />
          </Children>
        </ScrollbarWidget>

      </Children>
    </Widget>
  </Window>
</Prefab>